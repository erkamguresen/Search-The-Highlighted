<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <title>Search Online</title>
  </head>
  <body>
    <header id="main-header" class="bg-danger text-white p-5 mb-5">
      <div class="container">
        <div class="row">
          <div class="col-ms-1"></div>
          <div class="col-ms-6 mx-auto text-center">
            <h1 id="header-title">Custom Online Search Bookmarklet</h1>
          </div>
        </div>
      </div>
    </header>
    <main>
      <div class="container">
        <div class="card my-3">
          <div class="card-header">
            <h4>A custom bookmarklet to search wikipedia, google or youtube</h4>
          </div>
          <!-- <a href="${project.items[0].homepage}" class="card-link">
            <img
              src="./public/images/projects/${project.items[0].name}.png"
              class="card-img-top"
              alt="screen shot of the app"
            />
          </a> -->
          <div class="card-body">
            <h6 class="card-title">What is a Bookmarklet?</h6>
            <p class="card-text">
              A bookmarklet is a bookmark stored in a web browser that contains
              JavaScript commands that add new features to the browser.
              Bookmarklets are unobtrusive JavaScripts stored as the URL of a
              bookmark in a web browser or as a hyperlink on a web page.
              Bookmarklets are usually JavaScript programs. Regardless of
              whether bookmarklet utilities are stored as bookmarks or
              hyperlinks, they add one-click functions to a browser or web page.
              When clicked, a bookmarklet performs one of a wide variety of
              operations, such as running a search query or extracting data from
              a table. For example, clicking on a bookmarklet after selecting
              text on a webpage could run an Internet search on the selected
              text and display a search engine results page (<a
                href="https://en.wikipedia.org/wiki/Bookmarklet"
                >wikipedia</a
              >).
            </p>
          </div>
          <ul class="list-group list-group-flush">
            <li
              class="list-group-item text-center my-3"
              id="bookmarklet-container"
            >
              ---->
              <a
                href="javascript:(function() {
                  function se(d) {
                      return d.selection ? d.selection.createRange().text : d.getSelection()
                  } 
                  s = se(document); 
                  for (i=0; i<frames.length && (s==null || s==''); i++) s = se(frames[i].document); 
                  if (!s || s=='') s = prompt('Enter%20search%20terms%20for%20Wikipedia',''); 
                  open('https://en.wikipedia.org' + (s ? '/w/index.php?title=Special:Search&search=' + encodeURIComponent(s) : '')).focus();
                  })();
              "
              >
                🔎 Wiki Search
              </a>
              <---- (Drag to bookmarks of your browser)
            </li>
            <li class="list-group-item text-center">
              To install the code just drag the following link to your browsers
              bookmarks bar.
            </li>
            <li class="list-group-item">
              <form action="" id="bookmarklet-form">
                <div class="container">
                  <div class="row align-items-center justify-content-center">
                    <div class="col-md-3 mb-3">
                      <label for="emoji-select">Select an emoji</label><br />
                      <select
                        class="custom-select"
                        id="emoji-select"
                        name="emoji-select"
                      >
                        <option value="🔎">🔎 Magnifying Glass</option>
                        <option value="🧭">🧭 Compass</option>

                        <option value="🆒">🆒 Cool</option>
                        <option value="🆓">🆓 Free</option>
                        <option value="ℹ️">ℹ️ Information</option>
                        <option value="🆗">🆗 OK</option>
                        <option value="🆘">🆘 SOS</option>

                        <option value="🔭">🔭 Telescope</option>

                        <option value="⁉️">⁉️ Exclamation Question</option>
                        <option value="❓">❓ Question Mark</option>
                        <option value="❗">❗ Exclamation Mark</option>
                        <option value="❔">❔ Question Mark</option>
                        <option value="❕">❕ Exclamation Mark</option>

                        <option value="🎦">🎦 Cinema</option>
                        <option value="🎬">🎬 Clapboard</option>
                        <option value="🎥">🎥 Movie Camera</option>
                        <option value="📽️">📽️ Film Projector</option>
                        <option value="📺">📺 Television</option>
                        <option value="📼">📼 Videocassette</option>

                        <option value="🃏">🃏 Joker</option>

                        <option value="✅">✅ Check Mark</option>
                        <option value="☑️">☑️ Check Mark</option>
                        <option value="🔣">🔣 Symbols</option>
                        <option value="🔢">🔢 Numbers</option>

                        <option value="🧿">🧿 Nazar Amulet</option>
                        <option value="🎯">🎯 Darts</option>
                      </select>
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="BookmarkletName">Name the Bookmarklet</label
                      ><br />
                      <input
                        type="text"
                        class="form-control"
                        id="BookmarkletName"
                        name="BookmarkletName"
                        placeholder="Wiki Search..."
                      />
                    </div>
                    <div class="col-md-3 mb-3">
                      <label for="search-engine">Select a search engine</label
                      ><br />
                      <select
                        class="custom-select"
                        id="search-engine"
                        name="search-engine"
                      >
                        <option value="wikipedia">Wikipedia</option>
                        <option value="youtube">YouTube</option>
                        <option value="google">Google</option>
                      </select>
                    </div>
                  </div>
                </div>
              </form>
            </li>
          </ul>
          <div class="card-footer text-muted">
            Code inside the bookmarklet is as follows:<br />
            <code id="bookmarklet-code">
              javascript: function skipAds() {<br />
              const video = document.querySelector('video');<br />
              <br />
              const skipAdsButton =
              document.querySelector('.ytp-ad-skip-button');<br />
              const smallAdsButton =
              document.querySelector('.ytp-ad-overlay-close-button');<br />
              const noSkipAdsButton =
              document.querySelector('.ytp-ad-preview-text');<br />
              <br />
              if (skipAdsButton) {<br />
              video.playbackRate = video.playbackRate != 1 ? 1 : 10;<br />
              <br />
              setTimeout(() => {<br />
              console.log('add skipped');<br />
              }, 500);<br />
              <br />
              skipAdsButton.click();<br />
              } else if (smallAdsButton) {<br />
              smallAdsButton.click();<br />
              console.log('small popup add skipped');<br />
              } else if (noSkipAdsButton) {<br />
              video.playbackRate = video.playbackRate != 1 ? 1 : 10;<br />
              console.log('add played fast');<br />
              }<br />
              }<br />
              <br />
              (function () {<br />
              console.log('Youtube ads skipper is loaded');<br />
              <br />
              document.onkeyup = function (event) {<br />
              const video = document.querySelector('video');<br />
              let e = event || window.event;<br />
              <br />
              if (e.ctrlKey) {<br />
              skipAds();<br />
              }<br />
              <br />
              if (e.key === '+') {<br />
              video.playbackRate += 0.25;<br />
              console.log('Youtube video speed is: ' + video.playbackRate);<br />
              }<br />
              <br />
              if (e.key === '-' && video.playbackRate > 0.25) {<br />
              video.playbackRate -= 0.25;<br />
              console.log('Youtube video speed is: ' + video.playbackRate);<br />
              }<br />
              <br />
              if (e.key === '0' && e.ctrlKey) {<br />
              video.playbackRate = 1;<br />
              console.log('Youtube video speed is: ' + video.playbackRate);<br />
              }<br />
              };<br />
              <br />
              setInterval(skipAds, 500);<br />
              })();<br />
              <br />
            </code>
          </div>
        </div>
      </div>
    </main>

    <script src="src/index.js" type="module"></script>
  </body>
</html>
